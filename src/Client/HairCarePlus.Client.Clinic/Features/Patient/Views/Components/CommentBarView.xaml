<?xml version="1.0" encoding="utf-8" ?>
<ContentView x:Class="HairCarePlus.Client.Clinic.Features.Patient.Views.Components.CommentBarView"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:HairCarePlus.Client.Clinic.Features.Patient.ViewModels"
             x:DataType="vm:PatientPageViewModel">
    <Border StrokeThickness="0"
            Padding="12"
            BackgroundColor="{AppThemeBinding Light={StaticResource TaskCardBackgroundLight}, Dark={StaticResource TaskCardBackgroundDark}}">
        <Border.Shadow>
            <Shadow Brush="{AppThemeBinding Light=#20000000, Dark=#60000000}"
                    Offset="0,2"
                    Radius="8"
                    Opacity="0.2" />
        </Border.Shadow>
        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="8">
            <!-- Clinician avatar (optional) -->
            <Image Source="{Binding AvatarUrl}"
                   WidthRequest="28" HeightRequest="28"
                   Aspect="AspectFill">
                <Image.Clip>
                    <EllipseGeometry Center="14,14" RadiusX="14" RadiusY="14" />
                </Image.Clip>
            </Image>

            <Entry x:Name="CommentEntry"
                   Grid.Column="1"
                   Placeholder="Добавьте комментарий..."
                   Text="{Binding CommentText, Mode=TwoWay}"
                   ReturnType="Send"
                   ReturnCommand="{Binding SendCommentCommand}"
                   ClearButtonVisibility="WhileEditing"
                   Keyboard="Chat" />

            <Button Grid.Column="2"
                    Text="Отправить"
                    Command="{Binding SendCommentCommand}"
                    IsEnabled="{Binding IsSendEnabled}" />
        </Grid>
    </Border>
</ContentView>


